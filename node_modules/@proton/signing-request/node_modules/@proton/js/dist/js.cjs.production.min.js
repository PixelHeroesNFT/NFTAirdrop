"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("pako"),r=require("hash.js"),n=e(require("ripemd-ts")),a=require("bs58");require("fast-text-encoding");var i=require("elliptic"),s=require("@bloks/constants"),o=require("zod"),u=e(require("cross-fetch"));function c(e,t,r,n,a,i,s){try{var o=e[i](s),u=o.value}catch(e){return void r(e)}o.done?t(u):Promise.resolve(u).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){c(i,n,a,s,o,"next",e)}function o(e){c(i,n,a,s,o,"throw",e)}s(void 0)}))}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function y(e,t,r){return(y=h()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&p(a,r.prototype),a}).apply(null,arguments)}function d(e){var t="function"==typeof Map?new Map:void 0;return(d=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return y(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return g(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}var b,x,k=(function(e){var t=function(e){var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function o(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=Object.create((t&&t.prototype instanceof f?t:f).prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return{value:void 0,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var o=x(s,r);if(o){if(o===l)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,i),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function f(){}function p(){}function h(){}var y={};y[a]=function(){return this};var d=Object.getPrototypeOf,v=d&&d(d(A([])));v&&v!==t&&r.call(v,a)&&(y=v);var g=h.prototype=f.prototype=Object.create(y);function m(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,i){function s(){return new t((function(n,s){!function n(a,i,s,o){var u=c(e[a],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,o)}),(function(e){n("throw",e,s,o)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,o)}))}o(u.arg)}(a,i,n,s)}))}return n=n?n.then(s,s):s()}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=g.constructor=h,h.constructor=p,p.displayName=o(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},m(b.prototype),b.prototype[i]=function(){return this},e.AsyncIterator=b,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var s=new b(u(t,r,n,a),i);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},m(g),o(g,s,"Generator"),g[a]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=A,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(o&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;w(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}(x={exports:{}}),x.exports),w=n.hash,_="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=function(){for(var e=Array(256).fill(-1),t=0;t<_.length;++t)e[_.charCodeAt(t)]=t;return e}(),z=function(){for(var e=Array(256).fill(-1),t=0;t<A.length;++t)e[A.charCodeAt(t)]=t;return e["=".charCodeAt(0)]=0,e}(),E=function(e){return 0!=(128&e[e.length-1])},N=function(e){for(var t=1,r=0;r<e.length;++r){var n=(255&~e[r])+t;e[r]=n,t=n>>8}},P=function(e,t){for(var r=new Uint8Array(e),n=0;n<t.length;++n){var a=t.charCodeAt(n);if(a<"0".charCodeAt(0)||a>"9".charCodeAt(0))throw new Error("invalid number");for(var i=a-"0".charCodeAt(0),s=0;s<e;++s){var o=10*r[s]+i;r[s]=o,i=o>>8}if(i)throw new Error("number is out of range")}return r},T=function(e,t){var r="-"===t[0];r&&(t=t.substr(1));var n=P(e,t);if(r){if(N(n),!E(n))throw new Error("number is out of range")}else if(E(n))throw new Error("number is out of range");return n},C=function(e,t){void 0===t&&(t=1);for(var r=Array(t).fill("0".charCodeAt(0)),n=e.length-1;n>=0;--n){for(var a=e[n],i=0;i<r.length;++i){var s=(r[i]-"0".charCodeAt(0)<<8)+a;r[i]="0".charCodeAt(0)+s%10,a=s/10|0}for(;a;)r.push("0".charCodeAt(0)+a%10),a=a/10|0}return r.reverse(),String.fromCharCode.apply(String,r)},U=function(e,t){if(void 0===t&&(t=1),E(e)){var r=e.slice();return N(r),"-"+C(r,t)}return C(e,t)},K=function(e,t){if(!e)return function(e){for(var t=[],r=0;r<e.length;++r){var n=S[e.charCodeAt(r)];if(n<0)throw new Error("invalid base-58 value");for(var a=0;a<t.length;++a){var i=58*t[a]+n;t[a]=255&i,n=i>>8}n&&t.push(n)}for(var s,o=m(e);!(s=o()).done&&"1"===s.value;)t.push(0);return t.reverse(),new Uint8Array(t)}(t);for(var r=new Uint8Array(e),n=0;n<t.length;++n){var a=S[t.charCodeAt(n)];if(a<0)throw new Error("invalid base-58 value");for(var i=0;i<e;++i){var s=58*r[i]+a;r[i]=s,a=s>>8}if(a)throw new Error("base-58 value is out of range")}return r.reverse(),r},O=function(e){for(var t,r=[],n=m(e);!(t=n()).done;){for(var a=t.value,i=0;i<r.length;++i){var s=(S[r[i]]<<8)+a;r[i]=_.charCodeAt(s%58),a=s/58|0}for(;a;)r.push(_.charCodeAt(a%58)),a=a/58|0}for(var o,u=m(e);!(o=u()).done&&!o.value;)r.push("1".charCodeAt(0));return r.reverse(),String.fromCharCode.apply(String,r)},B=function(e){var t=e.length;if(1==(3&t)&&"="===e[t-1]&&(t-=1),0!=(3&t))throw new Error("base-64 value is not padded correctly");var r=t>>2,n=3*r;t>0&&"="===e[t-1]&&(n-="="===e[t-2]?2:1);for(var a=new Uint8Array(n),i=0;i<r;++i){var s=z[e.charCodeAt(4*i+0)],o=z[e.charCodeAt(4*i+1)],u=z[e.charCodeAt(4*i+2)],c=z[e.charCodeAt(4*i+3)];a[3*i+0]=s<<2|o>>4,3*i+1<n&&(a[3*i+1]=(15&o)<<4|u>>2),3*i+2<n&&(a[3*i+2]=(3&u)<<6|c)}return a};!function(e){e[e.k1=0]="k1",e[e.r1=1]="r1",e[e.wa=2]="wa"}(b||(b={}));var I=function(e,t){for(var r=new Uint8Array(e.length+t.length),n=0;n<e.length;++n)r[n]=e[n];for(var a=0;a<t.length;++a)r[e.length+a]=t.charCodeAt(a);return w(r)},M=function(e,t,r,n){var a=K(r?r+4:0,e),i={type:t,data:new Uint8Array(a.buffer,0,a.length-4)},s=new Uint8Array(I(i.data,n));if(s[0]!==a[a.length-4]||s[1]!==a[a.length-3]||s[2]!==a[a.length-2]||s[3]!==a[a.length-1])throw new Error("checksum doesn't match");return i},R=function(e,t,r){for(var n=new Uint8Array(I(e.data,t)),a=new Uint8Array(e.data.length+4),i=0;i<e.data.length;++i)a[i]=e.data[i];for(var s=0;s<4;++s)a[s+e.data.length]=n[s];return r+O(a)},F=function(e,t){if(void 0===t&&(t="EOS"),"string"!=typeof e)throw new Error("expected string containing public key");if(e.substr(0,3)===t){for(var r=K(37,e.substr(3)),n={type:b.k1,data:new Uint8Array(33)},a=0;a<33;++a)n.data[a]=r[a];var i=new Uint8Array(w(n.data));if(i[0]!==r[33]||i[1]!==r[34]||i[2]!==r[35]||i[3]!==r[36])throw new Error("checksum doesn't match");return n}if("PUB_K1_"===e.substr(0,7))return M(e.substr(7),b.k1,33,"K1");if("PUB_R1_"===e.substr(0,7))return M(e.substr(7),b.r1,33,"R1");if("PUB_WA_"===e.substr(0,7))return M(e.substr(7),b.wa,0,"WA");throw new Error("unrecognized public key format")},G=function(e,t){if(void 0===t&&(t="EOS"),e.type===b.k1&&33===e.data.length)return R(e,"",t);throw e.type===b.r1||e.type===b.wa?new Error("Key format not supported in legacy conversion"):new Error("unrecognized public key format")},L=function(e){if(e.type===b.k1&&33===e.data.length)return R(e,"K1","PUB_K1_");if(e.type===b.r1&&33===e.data.length)return R(e,"R1","PUB_R1_");if(e.type===b.wa)return R(e,"WA","PUB_WA_");throw new Error("unrecognized public key format")},D=function(e,t){return void 0===t&&(t="EOS"),e.substr(0,3)===t?L(F(e,t)):e},j=function(e,t){return void 0===t&&(t="EOS"),e.map((function(e){return D(e,t)}))},V=function(e){if("string"!=typeof e)throw new Error("expected string containing private key");if("PVT_R1_"===e.substr(0,7))return M(e.substr(7),b.r1,32,"R1");if("PVT_K1_"===e.substr(0,7))return M(e.substr(7),b.k1,32,"K1");var t=K(37,e),r={type:b.k1,data:new Uint8Array(32)};if(128!==t[0])throw new Error("unrecognized private key type");for(var n=0;n<32;++n)r.data[n]=t[n+1];return r},W=function(e){if(e.type===b.k1&&32===e.data.length){var t=[];t.push(128),e.data.forEach((function(e){return t.push(e)}));for(var n=new Uint8Array(r.sha256().update(r.sha256().update(t).digest()).digest()),a=new Uint8Array(37),i=0;i<t.length;i++)a[i]=t[i];for(var s=0;s<4;s++)a[s+t.length]=n[s];return O(a)}throw e.type===b.r1||e.type===b.wa?new Error("Key format not supported in legacy conversion"):new Error("unrecognized public key format")},H=function(e){if(e.type===b.r1)return R(e,"R1","PVT_R1_");if(e.type===b.k1)return R(e,"K1","PVT_K1_");throw new Error("unrecognized private key format")},q=function(e){if("string"!=typeof e)throw new Error("expected string containing signature");if("SIG_K1_"===e.substr(0,7))return M(e.substr(7),b.k1,65,"K1");if("SIG_R1_"===e.substr(0,7))return M(e.substr(7),b.r1,65,"R1");if("SIG_WA_"===e.substr(0,7))return M(e.substr(7),b.wa,0,"WA");throw new Error("unrecognized signature format")},Y=function(e){if(e.type===b.k1)return R(e,"K1","SIG_K1_");if(e.type===b.r1)return R(e,"R1","SIG_R1_");if(e.type===b.wa)return R(e,"WA","SIG_WA_");throw new Error("unrecognized signature format")},Z={__proto__:null,isNegative:E,negate:N,decimalToBinary:P,signedDecimalToBinary:T,binaryToDecimal:C,signedBinaryToDecimal:U,base58ToBinary:K,binaryToBase58:O,base64ToBinary:B,get KeyType(){return b},publicKeyDataSize:33,privateKeyDataSize:32,signatureDataSize:65,stringToPublicKey:F,publicKeyToLegacyString:G,publicKeyToString:L,convertLegacyPublicKey:D,convertK1ToLegacyPublicKey:function(e,t){if(void 0===t&&(t="EOS"),"PUB_K1_"!==e.substr(0,"PUB_K1_".length))return e;var r=e.substr("PUB_K1_".length),n=a.decode(r),i=n.slice(0,n.length-4),s=Buffer.from(w(i)).slice(0,4),o=Buffer.from([].concat(i,s));return""+t+a.encode(o)},convertLegacyPublicKeys:j,stringToPrivateKey:V,privateKeyToLegacyString:W,privateKeyToString:H,stringToSignature:q,signatureToString:Y},J=function(e){void 0===e&&(e={}),this.skippedBinaryExtension=!1,this.options=e},Q=function(){function e(e){var t=void 0===e?{}:e,r=t.array,n=t.textEncoder,a=t.textDecoder;this.readPos=0,this.array=r||new Uint8Array(1024),this.length=r?r.length:0,this.textEncoder=n||new TextEncoder,this.textDecoder=a||new TextDecoder("utf-8")}var t=e.prototype;return t.reserve=function(e){if(!(this.length+e<=this.array.length)){for(var t=this.array.length;this.length+e>t;)t=Math.ceil(1.5*t);var r=new Uint8Array(t);r.set(this.array),this.array=r}},t.haveReadData=function(){return this.readPos<this.length},t.restartRead=function(){this.readPos=0},t.asUint8Array=function(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.length)},t.pushArray=function(e){this.reserve(e.length),this.array.set(e,this.length),this.length+=e.length},t.push=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.pushArray(t)},t.get=function(){if(this.readPos<this.length)return this.array[this.readPos++];throw new Error("Read past end of buffer")},t.pushUint8ArrayChecked=function(e,t){if(e.length!==t)throw new Error("Binary data has incorrect size");this.pushArray(e)},t.getUint8Array=function(e){if(this.readPos+e>this.length)throw new Error("Read past end of buffer");var t=new Uint8Array(this.array.buffer,this.array.byteOffset+this.readPos,e);return this.readPos+=e,t},t.skip=function(e){if(this.readPos+e>this.length)throw new Error("Read past end of buffer");this.readPos+=e},t.pushUint16=function(e){this.push(e>>0&255,e>>8&255)},t.getUint16=function(){var e=0;return(e|=this.get()<<0)|this.get()<<8},t.pushUint32=function(e){this.push(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},t.getUint32=function(){var e=0;return e|=this.get()<<0,e|=this.get()<<8,e|=this.get()<<16,(e|=this.get()<<24)>>>0},t.pushNumberAsUint64=function(e){this.pushUint32(e>>>0),this.pushUint32(Math.floor(e/4294967296)>>>0)},t.getUint64AsNumber=function(){var e=this.getUint32();return 4294967296*(this.getUint32()>>>0)+(e>>>0)},t.pushVaruint32=function(e){for(;;){if(!(e>>>7)){this.push(e);break}this.push(128|127&e),e>>>=7}},t.getVaruint32=function(){for(var e=0,t=0;;){var r=this.get();if(e|=(127&r)<<t,t+=7,!(128&r))break}return e>>>0},t.pushVarint32=function(e){this.pushVaruint32(e<<1^e>>31)},t.getVarint32=function(){var e=this.getVaruint32();return 1&e?~e>>1|2147483648:e>>>1},t.pushFloat32=function(e){this.pushArray(new Uint8Array(new Float32Array([e]).buffer))},t.getFloat32=function(){return new Float32Array(this.getUint8Array(4).slice().buffer)[0]},t.pushFloat64=function(e){this.pushArray(new Uint8Array(new Float64Array([e]).buffer))},t.getFloat64=function(){return new Float64Array(this.getUint8Array(8).slice().buffer)[0]},t.pushName=function(e){if("string"!=typeof e)throw new Error("Expected string containing name");if(!new RegExp(/^[.1-5a-z]{0,12}[.1-5a-j]?$/).test(e))throw new Error("Name should be less than 13 characters, or less than 14 if last character is between 1-5 or a-j, and only contain the following symbols .12345abcdefghijklmnopqrstuvwxyz");for(var t=function(e){return e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)?e-"a".charCodeAt(0)+6:e>="1".charCodeAt(0)&&e<="5".charCodeAt(0)?e-"1".charCodeAt(0)+1:0},r=new Uint8Array(8),n=63,a=0;a<e.length;++a){var i=t(e.charCodeAt(a));n<5&&(i<<=1);for(var s=4;s>=0;--s)n>=0&&(r[Math.floor(n/8)]|=(i>>s&1)<<n%8,--n)}this.pushArray(r)},t.getName=function(){for(var e=this.getUint8Array(8),t="",r=63;r>=0;){for(var n=0,a=0;a<5;++a)r>=0&&(n=n<<1|e[Math.floor(r/8)]>>r%8&1,--r);t+=n>=6?String.fromCharCode(n+"a".charCodeAt(0)-6):n>=1?String.fromCharCode(n+"1".charCodeAt(0)-1):"."}for(;t.endsWith(".");)t=t.substr(0,t.length-1);return t},t.pushBytes=function(e){this.pushVaruint32(e.length),this.pushArray(e)},t.getBytes=function(){return this.getUint8Array(this.getVaruint32())},t.pushString=function(e){this.pushBytes(this.textEncoder.encode(e))},t.getString=function(){return this.textDecoder.decode(this.getBytes())},t.pushSymbolCode=function(e){if("string"!=typeof e)throw new Error("Expected string containing symbol_code");var t=[];for(t.push.apply(t,this.textEncoder.encode(e));t.length<8;)t.push(0);this.pushArray(t.slice(0,8))},t.getSymbolCode=function(){var e,t=this.getUint8Array(8);for(e=0;e<t.length&&t[e];++e);return this.textDecoder.decode(new Uint8Array(t.buffer,t.byteOffset,e))},t.pushSymbol=function(e){var t=e.name,r=e.precision;if(!/^[A-Z]{1,7}$/.test(t))throw new Error("Expected symbol to be A-Z and between one and seven characters");var n=[255&r];for(n.push.apply(n,this.textEncoder.encode(t));n.length<8;)n.push(0);this.pushArray(n.slice(0,8))},t.getSymbol=function(){var e,t=this.get(),r=this.getUint8Array(7);for(e=0;e<r.length&&r[e];++e);return{name:this.textDecoder.decode(new Uint8Array(r.buffer,r.byteOffset,e)),precision:t}},t.pushAsset=function(e){if("string"!=typeof e)throw new Error("Expected string containing asset");var t=0,r="",n=0;"-"===(e=e.trim())[t]&&(r+="-",++t);for(var a=!1;t<e.length&&e.charCodeAt(t)>="0".charCodeAt(0)&&e.charCodeAt(t)<="9".charCodeAt(0);)a=!0,r+=e[t],++t;if(!a)throw new Error("Asset must begin with a number");if("."===e[t])for(++t;t<e.length&&e.charCodeAt(t)>="0".charCodeAt(0)&&e.charCodeAt(t)<="9".charCodeAt(0);)r+=e[t],++n,++t;var i=e.substr(t).trim();this.pushArray(T(8,r)),this.pushSymbol({name:i,precision:n})},t.getAsset=function(){var e=this.getUint8Array(8),t=this.getSymbol(),r=t.name,n=t.precision,a=U(e,n+1);return n&&(a=a.substr(0,a.length-n)+"."+a.substr(a.length-n)),a+" "+r},t.pushPublicKey=function(e){var t=F(e);this.push(t.type),this.pushArray(t.data)},t.getPublicKey=function(){var e,t=this.get();if(t===b.wa){var r=this.readPos;this.skip(34),this.skip(this.getVaruint32()),e=new Uint8Array(this.array.buffer,this.array.byteOffset+r,this.readPos-r)}else e=this.getUint8Array(33);return L({type:t,data:e})},t.pushPrivateKey=function(e){var t=V(e);this.push(t.type),this.pushArray(t.data)},t.getPrivateKey=function(){var e=this.get(),t=this.getUint8Array(32);return H({type:e,data:t})},t.pushSignature=function(e){var t=q(e);this.push(t.type),this.pushArray(t.data)},t.getSignature=function(){var e,t=this.get();if(t===b.wa){var r=this.readPos;this.skip(65),this.skip(this.getVaruint32()),this.skip(this.getVaruint32()),e=new Uint8Array(this.array.buffer,this.array.byteOffset+r,this.readPos-r)}else e=this.getUint8Array(65);return Y({type:t,data:e})},e}(),X=function(e){return e.startsWith("eosio::abi/1.")},$=function(e){var t=Date.parse(e);if(Number.isNaN(t))throw new Error("Invalid time format");return t},ee=function(e){return Math.round(1e3*$(e+"Z"))},te=function(e){var t=new Date(e/1e3).toISOString();return t.substr(0,t.length-1)},re=function(e){return Math.round($(e+"Z")/1e3)},ne=function(e){var t=new Date(1e3*e).toISOString();return t.substr(0,t.length-1)},ae=function(e){return Math.round(($(e+"Z")-9466848e5)/500)},ie=function(e){var t=new Date(500*e+9466848e5).toISOString();return t.substr(0,t.length-1)},se=function(e){if("string"!=typeof e)throw new Error("Expected string containing symbol");var t=e.match(/^([0-9]+),([A-Z]+)$/);if(!t)throw new Error("Invalid symbol");return{name:t[2],precision:+t[1]}},oe=function(e){return e.precision+","+e.name},ue=function(e){for(var t,r="",n=m(e);!(t=n()).done;)r+=("00"+t.value.toString(16)).slice(-2);return r.toUpperCase()},ce=function(e){if("string"!=typeof e)throw new Error("Expected string containing hex digits");if(e.length%2)throw new Error("Odd number of hex digits");for(var t=e.length/2,r=new Uint8Array(t),n=0;n<t;++n){var a=parseInt(e.substr(2*n,2),16);if(Number.isNaN(a))throw new Error("Expected hex string");r[n]=a}return r};function le(e,t){throw new Error("Don't know how to serialize "+this.name)}function fe(e){throw new Error("Don't know how to deserialize "+this.name)}function pe(e,t,r,n){if(void 0===r&&(r=new J),void 0===n&&(n=!0),"object"!=typeof t)throw new Error("expected object containing data: "+JSON.stringify(t));this.base&&this.base.serialize(e,t,r,n);for(var a,i=m(this.fields);!(a=i()).done;){var s=a.value;if(s.name in t){if(r.skippedBinaryExtension)throw new Error("unexpected "+this.name+"."+s.name);s.type.serialize(e,t[s.name],r,n&&s===this.fields[this.fields.length-1])}else{if(!n||!s.type.extensionOf)throw new Error("missing "+this.name+"."+s.name+" (type="+s.type.name+")");r.skippedBinaryExtension=!0}}}function he(e,t,r){var n;void 0===t&&(t=new J),void 0===r&&(r=!0),n=this.base?this.base.deserialize(e,t,r):{};for(var a,i=m(this.fields);!(a=i()).done;){var s=a.value;r&&s.type.extensionOf&&!e.haveReadData()?t.skippedBinaryExtension=!0:n[s.name]=s.type.deserialize(e,t,r)}return n}function ye(e,t,r,n){if(!Array.isArray(t)||2!==t.length||"string"!=typeof t[0])throw new Error('expected variant: ["type", value]');var a=this.fields.findIndex((function(e){return e.name===t[0]}));if(a<0)throw new Error('type "'+t[0]+'" is not valid for variant');e.pushVaruint32(a),this.fields[a].type.serialize(e,t[1],r,n)}function de(e,t,r){var n=e.getVaruint32();if(n>=this.fields.length)throw new Error("type index "+n+" is not valid for variant");var a=this.fields[n];return[a.name,a.type.deserialize(e,t,r)]}function ve(e,t,r){e.pushVaruint32(t.length);for(var n,a=m(t);!(n=a()).done;)this.arrayOf.serialize(e,n.value,r,!1)}function ge(e,t){for(var r=e.getVaruint32(),n=[],a=0;a<r;++a)n.push(this.arrayOf.deserialize(e,t,!1));return n}function me(e,t,r,n){null==t?e.push(0):(e.push(1),this.optionalOf.serialize(e,t,r,n))}function be(e,t,r){return e.get()?this.optionalOf.deserialize(e,t,r):null}function xe(e,t,r,n){this.extensionOf.serialize(e,t,r,n)}function ke(e,t,r){return this.extensionOf.deserialize(e,t,r)}function we(e,t,r,n){var a=Object.entries(t);e.pushVaruint32(a.length);for(var i=0,s=a;i<s.length;i++){var o=s[i],u=o[1],c=this.fields[1].type;this.fields[0].type.serialize(e,o[0],r,n),c.serialize(e,u,r,n)}}function _e(e,t,r){for(var n=e.getVaruint32(),a={},i=0;i<n;++i){var s=this.fields[1].type;a[this.fields[0].type.deserialize(e,t,r)]=s.deserialize(e,t,r)}return a}var Ae,Se=function(e){return Object.assign({name:"<missing name>",aliasOfName:"",arrayOf:void 0,optionalOf:void 0,extensionOf:void 0,baseName:"",base:void 0,fields:[],serialize:le,deserialize:fe},e)},ze=function(e,t){if(Number.isNaN(+e)||Number.isNaN(+t)||"number"!=typeof e&&"string"!=typeof e)throw new Error("Expected number");if(+e!=+t)throw new Error("Number is out of range");return+e},Ee=function(){var e=new Map(Object.entries({bool:Se({name:"bool",serialize:function(e,t){if("boolean"!=typeof t&&("number"!=typeof t||1!==t&&0!==t))throw new Error("Expected boolean or number equal to 1 or 0");e.push(t?1:0)},deserialize:function(e){return!!e.get()}}),uint8:Se({name:"uint8",serialize:function(e,t){e.push(ze(t,255&t))},deserialize:function(e){return e.get()}}),int8:Se({name:"int8",serialize:function(e,t){e.push(ze(t,t<<24>>24))},deserialize:function(e){return e.get()<<24>>24}}),uint16:Se({name:"uint16",serialize:function(e,t){e.pushUint16(ze(t,65535&t))},deserialize:function(e){return e.getUint16()}}),int16:Se({name:"int16",serialize:function(e,t){e.pushUint16(ze(t,t<<16>>16))},deserialize:function(e){return e.getUint16()<<16>>16}}),uint32:Se({name:"uint32",serialize:function(e,t){e.pushUint32(ze(t,t>>>0))},deserialize:function(e){return e.getUint32()}}),uint64:Se({name:"uint64",serialize:function(e,t){e.pushArray(P(8,""+t))},deserialize:function(e){return C(e.getUint8Array(8))}}),int64:Se({name:"int64",serialize:function(e,t){e.pushArray(T(8,""+t))},deserialize:function(e){return U(e.getUint8Array(8))}}),int32:Se({name:"int32",serialize:function(e,t){e.pushUint32(ze(t,0|t))},deserialize:function(e){return 0|e.getUint32()}}),varuint32:Se({name:"varuint32",serialize:function(e,t){e.pushVaruint32(ze(t,t>>>0))},deserialize:function(e){return e.getVaruint32()}}),varint32:Se({name:"varint32",serialize:function(e,t){e.pushVarint32(ze(t,0|t))},deserialize:function(e){return e.getVarint32()}}),uint128:Se({name:"uint128",serialize:function(e,t){e.pushArray(P(16,""+t))},deserialize:function(e){return C(e.getUint8Array(16))}}),int128:Se({name:"int128",serialize:function(e,t){e.pushArray(T(16,""+t))},deserialize:function(e){return U(e.getUint8Array(16))}}),float32:Se({name:"float32",serialize:function(e,t){e.pushFloat32(t)},deserialize:function(e){return e.getFloat32()}}),float64:Se({name:"float64",serialize:function(e,t){e.pushFloat64(t)},deserialize:function(e){return e.getFloat64()}}),float128:Se({name:"float128",serialize:function(e,t){e.pushUint8ArrayChecked(ce(t),16)},deserialize:function(e){return ue(e.getUint8Array(16))}}),bytes:Se({name:"bytes",serialize:function(e,t){t instanceof Uint8Array||Array.isArray(t)?e.pushBytes(t):e.pushBytes(ce(t))},deserialize:function(e,t){return t&&t.options.bytesAsUint8Array?e.getBytes():ue(e.getBytes())}}),string:Se({name:"string",serialize:function(e,t){e.pushString(t)},deserialize:function(e){return e.getString()}}),name:Se({name:"name",serialize:function(e,t){e.pushName(t)},deserialize:function(e){return e.getName()}}),time_point:Se({name:"time_point",serialize:function(e,t){e.pushNumberAsUint64(ee(t))},deserialize:function(e){return te(e.getUint64AsNumber())}}),time_point_sec:Se({name:"time_point_sec",serialize:function(e,t){e.pushUint32(re(t))},deserialize:function(e){return ne(e.getUint32())}}),block_timestamp_type:Se({name:"block_timestamp_type",serialize:function(e,t){e.pushUint32(ae(t))},deserialize:function(e){return ie(e.getUint32())}}),symbol_code:Se({name:"symbol_code",serialize:function(e,t){e.pushSymbolCode(t)},deserialize:function(e){return e.getSymbolCode()}}),symbol:Se({name:"symbol",serialize:function(e,t){e.pushSymbol(se(t))},deserialize:function(e){return oe(e.getSymbol())}}),asset:Se({name:"asset",serialize:function(e,t){e.pushAsset(t)},deserialize:function(e){return e.getAsset()}}),checksum160:Se({name:"checksum160",serialize:function(e,t){e.pushUint8ArrayChecked(ce(t),20)},deserialize:function(e){return ue(e.getUint8Array(20))}}),checksum256:Se({name:"checksum256",serialize:function(e,t){e.pushUint8ArrayChecked(ce(t),32)},deserialize:function(e){return ue(e.getUint8Array(32))}}),checksum512:Se({name:"checksum512",serialize:function(e,t){e.pushUint8ArrayChecked(ce(t),64)},deserialize:function(e){return ue(e.getUint8Array(64))}}),public_key:Se({name:"public_key",serialize:function(e,t){e.pushPublicKey(t)},deserialize:function(e){return e.getPublicKey()}}),private_key:Se({name:"private_key",serialize:function(e,t){e.pushPrivateKey(t)},deserialize:function(e){return e.getPrivateKey()}}),signature:Se({name:"signature",serialize:function(e,t){e.pushSignature(t)},deserialize:function(e){return e.getSignature()}})}));return e.set("extended_asset",Se({name:"extended_asset",baseName:"",fields:[{name:"quantity",typeName:"asset",type:e.get("asset")},{name:"contract",typeName:"name",type:e.get("name")}],serialize:pe,deserialize:he})),e},Ne=function(){var e=Ee();return e.set("extensions_entry",Se({name:"extensions_entry",baseName:"",fields:[{name:"tag",typeName:"uint16",type:void 0},{name:"value",typeName:"bytes",type:void 0}],serialize:pe,deserialize:he})),e.set("type_def",Se({name:"type_def",baseName:"",fields:[{name:"new_type_name",typeName:"string",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:pe,deserialize:he})),e.set("field_def",Se({name:"field_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:pe,deserialize:he})),e.set("struct_def",Se({name:"struct_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"base",typeName:"string",type:void 0},{name:"fields",typeName:"field_def[]",type:void 0}],serialize:pe,deserialize:he})),e.set("action_def",Se({name:"action_def",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"type",typeName:"string",type:void 0},{name:"ricardian_contract",typeName:"string",type:void 0}],serialize:pe,deserialize:he})),e.set("table_def",Se({name:"table_def",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"index_type",typeName:"string",type:void 0},{name:"key_names",typeName:"string[]",type:void 0},{name:"key_types",typeName:"string[]",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:pe,deserialize:he})),e.set("clause_pair",Se({name:"clause_pair",baseName:"",fields:[{name:"id",typeName:"string",type:void 0},{name:"body",typeName:"string",type:void 0}],serialize:pe,deserialize:he})),e.set("error_message",Se({name:"error_message",baseName:"",fields:[{name:"error_code",typeName:"uint64",type:void 0},{name:"error_msg",typeName:"string",type:void 0}],serialize:pe,deserialize:he})),e.set("variant_def",Se({name:"variant_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"types",typeName:"string[]",type:void 0}],serialize:pe,deserialize:he})),e.set("action_result",Se({name:"action_result",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"result_type",typeName:"string",type:void 0}],serialize:pe,deserialize:he})),e.set("primary_key_index_def",Se({name:"primary_key_index_def",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:pe,deserialize:he})),e.set("secondary_index_def",Se({name:"secondary_index_def",baseName:"",fields:[{name:"type",typeName:"string",type:void 0}],serialize:pe,deserialize:he})),e.set("secondary_indices",Se({name:"secondary_indices",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"secondary_index_def",typeName:"secondary_index_def",type:void 0}],serialize:we,deserialize:_e})),e.set("kv_table_entry_def",Se({name:"kv_table_entry_def",baseName:"",fields:[{name:"type",typeName:"string",type:void 0},{name:"primary_index",typeName:"primary_key_index_def",type:void 0},{name:"secondary_indices",typeName:"secondary_indices",type:void 0}],serialize:pe,deserialize:he})),e.set("kv_table",Se({name:"kv_table",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"kv_table_entry_def",typeName:"kv_table_entry_def",type:void 0}],serialize:we,deserialize:_e})),e.set("abi_def",Se({name:"abi_def",baseName:"",fields:[{name:"version",typeName:"string",type:void 0},{name:"types",typeName:"type_def[]",type:void 0},{name:"structs",typeName:"struct_def[]",type:void 0},{name:"actions",typeName:"action_def[]",type:void 0},{name:"tables",typeName:"table_def[]",type:void 0},{name:"ricardian_clauses",typeName:"clause_pair[]",type:void 0},{name:"error_messages",typeName:"error_message[]",type:void 0},{name:"abi_extensions",typeName:"extensions_entry[]",type:void 0},{name:"variants",typeName:"variant_def[]$",type:void 0},{name:"action_results",typeName:"action_result[]$",type:void 0},{name:"kv_tables",typeName:"kv_table$",type:void 0}],serialize:pe,deserialize:he})),e},Pe=function e(t,r){var n=t.get(r);if(n&&n.aliasOfName)return e(t,n.aliasOfName);if(n)return n;if(r.endsWith("[]"))return Se({name:r,arrayOf:e(t,r.substr(0,r.length-2)),serialize:ve,deserialize:ge});if(r.endsWith("?"))return Se({name:r,optionalOf:e(t,r.substr(0,r.length-1)),serialize:me,deserialize:be});if(r.endsWith("$"))return Se({name:r,extensionOf:e(t,r.substr(0,r.length-1)),serialize:xe,deserialize:ke});throw new Error("Unknown type: "+r)},Te=function(e,t){var r=new Map(e);if(t&&t.types)for(var n,a=m(t.types);!(n=a()).done;){var i=n.value,s=i.new_type_name;r.set(s,Se({name:s,aliasOfName:i.type}))}if(t&&t.structs)for(var o,u=m(t.structs);!(o=u()).done;){var c=o.value,l=c.name;r.set(l,Se({name:l,baseName:c.base,fields:c.fields.map((function(e){return{name:e.name,typeName:e.type,type:void 0}})),serialize:pe,deserialize:he}))}if(t&&t.variants)for(var f,p=m(t.variants);!(f=p()).done;){var h=f.value,y=h.name;r.set(y,Se({name:y,fields:h.types.map((function(e){return{name:e,typeName:e,type:void 0}})),serialize:ye,deserialize:de}))}for(var d,v=m(r);!(d=v()).done;){var g=d.value[1];g.baseName&&(g.base=Pe(r,g.baseName));for(var b,x=m(g.fields);!(b=x()).done;){var k=b.value;k.type=Pe(r,k.typeName)}}return r},Ce=function(e,t){var r,n=e.header?e.header.timestamp:e.timestamp,a=parseInt((r=e.id.substr(16,8)).substr(6,2)+r.substr(4,2)+r.substr(2,2)+r.substr(0,2),16);return{expiration:ne(re(n)+t),ref_block_num:65535&e.block_num,ref_block_prefix:a}},Ue=function(e,t,r,n){var a=e.actions.get(r);if(!a)throw new Error("Unknown action "+r+" in contract "+t);var i=new Q;return a.serialize(i,n),ue(i.asUint8Array())},Ke=function(e,t,r,n,a){return{account:t,name:r,authorization:n,data:Ue(e,t,r,a)}},Oe=function(e,t,r,n){var a=e.actions.get(r);if("string"==typeof n&&(n=ce(n)),!a)throw new Error("Unknown action "+r+" in contract "+t);var i=new Q;return i.pushArray(n),a.deserialize(i)},Be=function(e,t,r,n,a){return{account:t,name:r,authorization:n,data:Oe(e,t,r,a)}},Ie=function(e,t){var r,n;if(null===t){var a=[Ve.null_t,t];r=a[0],n=a[1]}else if("string"==typeof t){var i=[Ve.string,t];r=i[0],n=i[1]}else if("number"==typeof t){var s=[Ve.int32,t];r=s[0],n=s[1]}else if(t instanceof Uint8Array){var o=[Ve.bytes,t];r=o[0],n=o[1]}else if(Array.isArray(t)){var u=[Ve.any_array,t];r=u[0],n=u[1]}else if(2===Object.keys(t).length&&t.hasOwnProperty("type")&&t.hasOwnProperty("value")){var c=[Ve[t.type],t.value];r=c[0],n=c[1]}else{var l=[Ve.any_object,t];r=l[0],n=l[1]}e.pushVaruint32(r.index),r.type.serialize(e,n)},Me=function(e,t){var r=e.getVaruint32();if(r>=We.length)throw new Error("Tried to deserialize unknown anyvar type");var n=We[r],a=n.type.deserialize(e,t);return t&&t.options.useShortForm||n.useShortForm?a:{type:n.type.name,value:a}},Re=function(e){return Me(e,new J({useShortForm:!0}))},Fe=function(e,t){var r=Object.entries(t);e.pushVaruint32(r.length);for(var n=0,a=r;n<a.length;n++){var i=a[n],s=i[1];e.pushString(i[0]),Ie(e,s)}},Ge=function(e,t){for(var r=e.getVaruint32(),n={},a=0;a<r;++a){var i=e.getString();if(i in n){for(var s=1;i+"_"+s in n;)++s;i=i+"_"+s}n[i]=Me(e,t)}return n},Le=function(e,t){e.pushVaruint32(t.length);for(var r,n=m(t);!(r=n()).done;)Ie(e,r.value)},De=function(e,t){for(var r=e.getVaruint32(),n=[],a=0;a<r;++a)n.push(Me(e,t));return n},je=function(){var e=Ee();return e.set("null_t",Se({name:"null_t",serialize:function(e,t){},deserialize:function(e,t){}})),e.set("any_object",Se({name:"any_object",serialize:Fe,deserialize:Ge})),e.set("any_array",Se({name:"any_array",serialize:Le,deserialize:De})),e}(),Ve={null_t:{index:0,useShortForm:!0,type:je.get("null_t")},int64:{index:1,useShortForm:!1,type:je.get("int64")},uint64:{index:2,useShortForm:!1,type:je.get("uint64")},int32:{index:3,useShortForm:!0,type:je.get("int32")},uint32:{index:4,useShortForm:!1,type:je.get("uint32")},int16:{index:5,useShortForm:!1,type:je.get("int16")},uint16:{index:6,useShortForm:!1,type:je.get("uint16")},int8:{index:7,useShortForm:!1,type:je.get("int8")},uint8:{index:8,useShortForm:!1,type:je.get("uint8")},time_point:{index:9,useShortForm:!1,type:je.get("time_point")},checksum256:{index:10,useShortForm:!1,type:je.get("checksum256")},float64:{index:11,useShortForm:!1,type:je.get("float64")},string:{index:12,useShortForm:!0,type:je.get("string")},any_object:{index:13,useShortForm:!0,type:je.get("any_object")},any_array:{index:14,useShortForm:!0,type:je.get("any_array")},bytes:{index:15,useShortForm:!1,type:je.get("bytes")},symbol:{index:16,useShortForm:!1,type:je.get("symbol")},symbol_code:{index:17,useShortForm:!1,type:je.get("symbol_code")},asset:{index:18,useShortForm:!1,type:je.get("asset")}},We=[Ve.null_t,Ve.int64,Ve.uint64,Ve.int32,Ve.uint32,Ve.int16,Ve.uint16,Ve.int8,Ve.uint8,Ve.time_point,Ve.checksum256,Ve.float64,Ve.string,Ve.any_object,Ve.any_array,Ve.bytes,Ve.symbol,Ve.symbol_code,Ve.asset],He=function e(t,r){var n,a,i;if("string"==typeof r)n=r;else if(Array.isArray(r)&&2===r.length)n=r[0],i=r[1];else if(Array.isArray(r)&&3===r.length)n=r[0],a=r[1],i=r[2];else{var s=[r.method,r.arg,r.filter];n=s[0],a=s[1],i=s[2]}if(t.pushString(n),void 0===a?t.push(0):(t.push(1),Ie(t,a)),void 0===i)t.push(0);else{t.pushVaruint32(i.length);for(var o,u=m(i);!(o=u()).done;)e(t,o.value)}},qe={__proto__:null,SerializerState:J,SerialBuffer:Q,supportedAbiVersion:X,dateToTimePoint:ee,timePointToDate:te,dateToTimePointSec:re,timePointSecToDate:ne,dateToBlockTimestamp:ae,blockTimestampToDate:ie,stringToSymbol:se,symbolToString:oe,arrayToHex:ue,hexToUint8Array:ce,createInitialTypes:Ee,createAbiTypes:Ne,getType:Pe,getTypesFromAbi:Te,transactionHeader:Ce,serializeActionData:Ue,serializeAction:Ke,deserializeActionData:Oe,deserializeAction:Be,serializeAnyvar:Ie,deserializeAnyvar:Me,deserializeAnyvarShort:Re,serializeAnyObject:Fe,deserializeAnyObject:Ge,serializeAnyArray:Le,deserializeAnyArray:De,serializeQuery:He},Ye=function(e){return new i.ec(e===b.k1?"secp256k1":"p256")},Ze=function(e){return r.sha256().update(e).digest("hex")},Je=function(){function e(e,t){this.key=e,this.ec=t}e.fromString=function(t,r){var n=F(t);return r||(r=Ye(n.type)),new e(n,r)},e.fromElliptic=function(t,r,n){var a=t.getPublic().getX().toArray("be",32),i=t.getPublic().getY().toArray("be",32);return n||(n=Ye(r)),new e({type:r,data:new Uint8Array([1&i[31]?3:2].concat(a))},n)};var t=e.prototype;return t.toString=function(){return L(this.key)},t.toLegacyString=function(e){return G(this.key,e)},t.toElliptic=function(){return this.ec.keyPair({pub:Buffer.from(this.key.data)})},t.getType=function(){return this.key.type},t.isValid=function(){try{return this.toElliptic().validate().result}catch(e){return!1}},e}(),Qe=require("bn.js"),Xe=function(){function e(e,t){this.signature=e,this.ec=t}e.fromString=function(t,r){var n=q(t);return r||(r=Ye(n.type)),new e(n,r)},e.fromElliptic=function(t,r,n){t.recoveryParam||(t.recoveryParam=0);var a,i=t.r.toArray("be",32),s=t.s.toArray("be",32);r===b.k1||r===b.r1?(a=t.recoveryParam+27,t.recoveryParam<=3&&(a+=4)):r===b.wa&&(a=t.recoveryParam);var o=new Uint8Array([a].concat(i,s));return n||(n=Ye(r)),new e({type:r,data:o},n)};var t=e.prototype;return t.toElliptic=function(){var e,t=new Qe(this.signature.data.slice(1,33)),r=new Qe(this.signature.data.slice(33,65));return this.signature.type===b.k1||this.signature.type===b.r1?(e=this.signature.data[0]-27)>3&&(e-=4):e=this.signature.type===b.wa?this.signature.data[0]:0,{r:t,s:r,recoveryParam:3&e}},t.toString=function(){return Y(this.signature)},t.toBinary=function(){return this.signature.data},t.getType=function(){return this.signature.type},t.verify=function(e,t,r,n){void 0===r&&(r=!0),void 0===n&&(n="utf8"),r&&("string"==typeof e&&(e=Buffer.from(e,n)),e=this.ec.hash().update(e).digest());var a=this.toElliptic(),i=t.toElliptic();return this.ec.verify(e,a,i,n)},t.recover=function(e,t,r){void 0===t&&(t=!0),void 0===r&&(r="utf8"),t&&("string"==typeof e&&(e=Buffer.from(e,r)),e=this.ec.hash().update(e).digest());var n=this.toElliptic(),a=this.ec.recoverPubKey(e,n,n.recoveryParam,r),i=this.ec.keyFromPublic(a);return Je.fromElliptic(i,this.getType(),this.ec)},e}(),$e=function(){function e(e,t){this.key=e,this.ec=t}e.fromElliptic=function(t,r,n){return n||(n=Ye(r)),new e({type:r,data:t.getPrivate().toArrayLike(Buffer,"be",32)},n)},e.fromString=function(t,r){var n=V(t);return r||(r=Ye(n.type)),new e(n,r)};var t=e.prototype;return t.toElliptic=function(){return this.ec.keyFromPrivate(this.key.data)},t.toLegacyString=function(){return W(this.key)},t.toString=function(){return H(this.key)},t.getType=function(){return this.key.type},t.getPublicKey=function(){var e=this.toElliptic();return Je.fromElliptic(e,this.getType(),this.ec)},t.sign=function(e,t,r){var n=this;void 0===t&&(t=!0),void 0===r&&(r="utf8"),t&&("string"==typeof e&&(e=Buffer.from(e,r)),e=this.ec.hash().update(e).digest());var a,i,s=0,o=function(t){var r=n.toElliptic().sign(e,t);return Xe.fromElliptic(r,n.getType(),n.ec)};if(this.key.type===b.k1)do{a=o({canonical:!0,pers:[++s]})}while(128&(i=a.toBinary())[1]||0===i[1]&&!(128&i[2])||128&i[33]||!(0!==i[33]||128&i[34]));else a=o({canonical:!0});return a},t.isValid=function(){try{return this.toElliptic().validate().result}catch(e){return!1}},e}(),et={__proto__:null,generateKeyPair:function(e,t){if(void 0===t&&(t={}),!t.secureEnv)throw new Error("Key generation is completely INSECURE in production environments in the browser. If you are absolutely certain this does NOT describe your environment, set `secureEnv` in your options to `true`.  If this does describe your environment and you set `secureEnv` to `true`, YOU DO SO AT YOUR OWN RISK AND THE RISK OF YOUR USERS.");var r,n=(r=new i.ec(e===b.k1?"secp256k1":"p256")).genKeyPair(t.ecOptions);return{publicKey:Je.fromElliptic(n,e,r),privateKey:$e.fromElliptic(n,e,r)}},PrivateKey:$e,PublicKey:Je,Signature:Xe,constructElliptic:Ye},tt=new i.ec("secp256k1"),rt=function(e,t,r,n){void 0===n&&(n=tt);var a=Buffer.concat([Buffer.from(e,"hex"),Buffer.from(t),Buffer.from(r?new Uint8Array(n.hash().update(r).digest()):new Uint8Array(32))]);return n.hash().update(a).digest()},nt=function(){function e(e){this.keys=new Map,this.availableKeys=[];for(var t,r=m(e);!(t=r()).done;){var n=$e.fromString(t.value),a=n.toElliptic(),i=n.getPublicKey().toString();this.keys.set(i,a),this.availableKeys.push(i)}}var t=e.prototype;return t.getAvailableKeys=function(){var e=l(k.mark((function e(){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.availableKeys);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.sign=function(){var e=l(k.mark((function e(t){var r,n,a,i,s,o,u,c,l,f,p,h;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=t.requiredKeys,i=rt(t.chainId,n=t.serializedTransaction,a=t.serializedContextFreeData,tt),s=[],o=m(r);!(u=o()).done;)l=Je.fromString(c=u.value),(f=this.keys.get(D(c)))&&(p=$e.fromElliptic(f,l.getType()),h=p.sign(i,!1),s.push(h.toString()));return e.abrupt("return",{signatures:s,serializedTransaction:n,serializedContextFreeData:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),at={version:"eosio::abi/1.0",types:[{new_type_name:"account_name",type:"name"},{new_type_name:"action_name",type:"name"},{new_type_name:"permission_name",type:"name"}],structs:[{name:"permission_level",base:"",fields:[{name:"actor",type:"account_name"},{name:"permission",type:"permission_name"}]},{name:"action",base:"",fields:[{name:"account",type:"account_name"},{name:"name",type:"action_name"},{name:"authorization",type:"permission_level[]"},{name:"data",type:"bytes"}]},{name:"extension",base:"",fields:[{name:"type",type:"uint16"},{name:"data",type:"bytes"}]},{name:"transaction_header",base:"",fields:[{name:"expiration",type:"time_point_sec"},{name:"ref_block_num",type:"uint16"},{name:"ref_block_prefix",type:"uint32"},{name:"max_net_usage_words",type:"varuint32"},{name:"max_cpu_usage_ms",type:"uint8"},{name:"delay_sec",type:"varuint32"}]},{name:"transaction",base:"transaction_header",fields:[{name:"context_free_actions",type:"action[]"},{name:"actions",type:"action[]"},{name:"transaction_extensions",type:"extension[]"}]}],actions:[],tables:[],ricardian_clauses:[],error_messages:[],abi_extensions:[]},it=function(){function e(e){this.contracts=new Map,this.cachedAbis=new Map,this.rpc=e.rpc,this.authorityProvider=e.authorityProvider||e.rpc,this.abiProvider=e.abiProvider||e.rpc,e.signatureProvider&&(this.signatureProvider=e.signatureProvider),this.abiTypes=Te(Ne()),this.transactionTypes=Te(Ee(),at)}var r=e.prototype;return r.rawAbiToJson=function(e){var t=new Q({array:e});if(!X(t.getString()))throw new Error("Unsupported abi version");return t.restartRead(),this.abiTypes.get("abi_def").deserialize(t)},r.jsonToRawAbi=function(e){var t=new Q;if(this.abiTypes.get("abi_def").serialize(t,e),!X(t.getString()))throw new Error("Unsupported abi version");return t.asUint8Array()},r.getCachedAbi=function(){var e=l(k.mark((function e(t,r){var n,a,i;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=!1),r||!this.cachedAbis.get(t)){e.next=3;break}return e.abrupt("return",this.cachedAbis.get(t));case 3:return e.prev=3,e.next=6,this.abiProvider.getRawAbi(t);case 6:i=this.rawAbiToJson(a=e.sent.abi),n={rawAbi:a,abi:i},e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(3),e.t0.message="fetching abi for "+t+": "+e.t0.message,e.t0;case 15:if(n){e.next=17;break}throw new Error("Missing abi for "+t);case 17:return this.cachedAbis.set(t,n),e.abrupt("return",n);case 19:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t,r){return e.apply(this,arguments)}}(),r.getAbi=function(){var e=l(k.mark((function e(t,r){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,this.getCachedAbi(t,r);case 3:return e.abrupt("return",e.sent.abi);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),r.getTransactionAbis=function(){var e=l(k.mark((function e(t,r){var n,a,i,s,o=this;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),n=(t.context_free_actions||[]).concat(t.actions),a=n.map((function(e){return e.account})),i=new Set(a),s=Array.from(i).map(function(){var e=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getCachedAbi(t,r);case 2:return e.abrupt("return",{accountName:t,abi:e.sent.rawAbi});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(s));case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),r.getContract=function(){var e=l(k.mark((function e(t,r){var n,a,i,s,o,u,c;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=!1),r||!this.contracts.get(t)){e.next=3;break}return e.abrupt("return",this.contracts.get(t));case 3:return e.next=5,this.getAbi(t,r);case 5:for(n=e.sent,a=Te(Ee(),n),i=new Map,s=m(n.actions);!(o=s()).done;)i.set((u=o.value).name,Pe(a,u.type));return this.contracts.set(t,c={types:a,actions:i}),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),r.serialize=function(e,t,r){this.transactionTypes.get(t).serialize(e,r)},r.deserialize=function(e,t){return this.transactionTypes.get(t).deserialize(e)},r.serializeTransaction=function(e){var t=new Q;return this.serialize(t,"transaction",Object.assign({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],actions:[],transaction_extensions:[]},e)),t.asUint8Array()},r.serializeContextFreeData=function(e){if(e&&e.length){var t=new Q;t.pushVaruint32(e.length);for(var r,n=m(e);!(r=n()).done;)t.pushBytes(r.value);return t.asUint8Array()}},r.deserializeTransaction=function(e){var t=new Q;return t.pushArray(e),this.deserialize(t,"transaction")},r.serializeActions=function(){var e=l(k.mark((function e(t){var r=this;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=l(k.mark((function e(t){var n,a,i,s,o;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,a=t.name,i=t.authorization,s=t.data,e.next=3,r.getContract(n);case 3:if(o=e.sent,"object"==typeof s){e.next=6;break}return e.abrupt("return",t);case 6:return e.abrupt("return",Ke(o,n,a,i,s));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.deserializeActions=function(){var e=l(k.mark((function e(t){var r=this;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=l(k.mark((function e(t){var n,a,i,s;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,a=t.name,i=t.authorization,s=t.data,e.next=3,r.getContract(n);case 3:return e.abrupt("return",Be(e.sent,n,a,i,s));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.deserializeActionsSync=function(){var e=l(k.mark((function e(t){var r,n,a,i,s,o,u,c;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=m(t);case 2:if((a=n()).done){e.next=10;break}return s=(i=a.value).account,o=i.name,u=i.authorization,c=i.data,e.next=6,this.getContract(s);case 6:r.push(Be(e.sent,s,o,u,c));case 8:e.next=2;break;case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.deserializeTransactionWithActions=function(){var e=l(k.mark((function e(t){var r,n;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"==typeof t&&(t=ce(t)),r=this.deserializeTransaction(t),e.next=4,this.deserializeActionsSync(r.context_free_actions);case 4:return n=e.sent,e.next=7,this.deserializeActionsSync(r.actions);case 7:return e.abrupt("return",Object.assign({},r,{context_free_actions:n,actions:e.sent}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.deflateSerializedArray=function(e){return t.deflate(e,{level:9})},r.inflateSerializedArray=function(e){return t.inflate(e)},r.transact=function(){var e=l(k.mark((function e(t,r){var n,a,i,s,o,u,c,l,f,p,h,y,d,v,g,m,b;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0===(a=(n=void 0===r?{}:r).broadcast)||a,o=void 0===(s=n.sign)||s,u=n.compression,c=n.blocksBehind,l=n.useLastIrreversible,f=n.expireSeconds,p=n.requiredKeys,h=n.transactionHeader,e.next=3,this.rpc.get_info();case 3:if(y=e.sent,h){e.next=24;break}if("number"!=typeof c||!l){e.next=10;break}throw new Error("Use either blocksBehind or useLastIrreversible");case 10:if("number"==typeof c||l){e.next=14;break}throw new Error("Must provide one blocksBehind or useLastIrreversible");case 14:if(f){e.next=18;break}throw new Error("Must provide expireSeconds");case 18:return e.next=20,this.generateTapos(y,t,c,l,f);case 20:h=e.sent;case 22:if(this.hasRequiredTaposFields(h)){e.next=24;break}throw new Error("Required configuration or TAPOS fields are not present");case 24:return e.next=26,this.getTransactionAbis(t);case 26:return d=e.sent,e.t0=Object,e.t1={},e.t2=h,e.next=32,this.serializeActions(t.context_free_actions||[]);case 32:return e.t3=e.sent,e.next=35,this.serializeActions(t.actions);case 35:if(e.t4=e.sent,e.t5={context_free_actions:e.t3,actions:e.t4},t=e.t0.assign.call(e.t0,e.t1,e.t2,e.t5),v=this.serializeTransaction(t),g=this.serializeContextFreeData(t.context_free_data),m={serializedTransaction:v,serializedContextFreeData:g,signatures:[]},!o){e.next=54;break}if(this.signatureProvider){e.next=44;break}throw new Error("No signature provider available");case 44:if(p){e.next=51;break}return e.next=47,this.signatureProvider.getAvailableKeys();case 47:return b=e.sent,e.next=50,this.authorityProvider.getRequiredKeys({transaction:t,availableKeys:b});case 50:p=e.sent;case 51:return e.next=53,this.signatureProvider.sign({chainId:y.chain_id,requiredKeys:p,serializedTransaction:v,serializedContextFreeData:g,abis:d});case 53:m=e.sent;case 54:if(!i){e.next=58;break}if(!u){e.next=57;break}return e.abrupt("return",this.pushCompressedSignedTransaction(m));case 57:return e.abrupt("return",this.pushSignedTransaction(m));case 58:return e.abrupt("return",Object.assign({},m,{transactionHeader:h}));case 59:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),r.transactWithDelay=function(){var e=l(k.mark((function e(t,r,n){var a,i,s;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){return(i=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},a=function(e){return i.apply(this,arguments)},void 0===r&&(r={}),e.next=5,this.transact(t,r);case 5:return s=e.sent,e.next=8,a(n);case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),r.query=function(){var e=l(k.mark((function e(t,r,n,a){var i,s,o,u,c,l,f,p,h,y,d,v,g;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.sign,s=a.requiredKeys,u=void 0===(o=a.authorization)?[]:o,e.next=3,this.rpc.get_info();case 3:return c=e.sent,e.next=6,this.tryRefBlockFromGetInfo(c);case 6:if(l=e.sent,f=new Q,He(f,n),p=Object.assign({},Ce(l,1800),{context_free_actions:[],actions:[{account:t,name:"queryit",authorization:u,data:ue(f.asUint8Array())}]}),h=this.serializeTransaction(p),y=[],!i){e.next=29;break}if(this.signatureProvider){e.next=15;break}throw new Error("No signature provider available");case 15:return e.next=17,this.getTransactionAbis(p);case 17:if(d=e.sent,s){e.next=25;break}return e.next=21,this.signatureProvider.getAvailableKeys();case 21:return v=e.sent,e.next=24,this.authorityProvider.getRequiredKeys({transaction:p,availableKeys:v});case 24:s=e.sent;case 25:return e.next=27,this.signatureProvider.sign({chainId:c.chain_id,requiredKeys:s,serializedTransaction:h,serializedContextFreeData:void 0,abis:d});case 27:y=e.sent.signatures;case 29:return e.next=31,this.rpc.send_transaction({signatures:y,compression:0,serializedTransaction:h});case 31:if(g=new Q({array:ce(e.sent.processed.action_traces[0][1].return_value)}),!r){e.next=37;break}return e.abrupt("return",Re(g));case 37:return e.abrupt("return",Me(g));case 38:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),r.pushSignedTransaction=function(){var e=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.rpc.push_transaction({signatures:t.signatures,serializedTransaction:t.serializedTransaction,serializedContextFreeData:t.serializedContextFreeData}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.pushCompressedSignedTransaction=function(){var e=l(k.mark((function e(t){var r,n,a,i;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.signatures,n=t.serializedContextFreeData,a=this.deflateSerializedArray(t.serializedTransaction),i=this.deflateSerializedArray(n||new Uint8Array(0)),e.abrupt("return",this.rpc.push_transaction({signatures:r,compression:1,serializedTransaction:a,serializedContextFreeData:i}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.generateTapos=function(){var e=l(k.mark((function e(t,r,n,a,i){var s;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=3),t){e.next=5;break}return e.next=4,this.rpc.get_info();case 4:t=e.sent;case 5:if(!a){e.next=10;break}return e.next=8,this.tryRefBlockFromGetInfo(t);case 8:return e.abrupt("return",Object.assign({},Ce(e.sent,i),r));case 10:if(!((s=t.head_block_num-n)<=t.last_irreversible_block_num)){e.next=17;break}return e.next=14,this.tryGetBlockInfo(s);case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,this.tryGetBlockHeaderState(s);case 19:e.t0=e.sent;case 20:return e.abrupt("return",Object.assign({},Ce(e.t0,i),r));case 22:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,i){return e.apply(this,arguments)}}(),r.hasRequiredTaposFields=function(e){return!(!e.expiration||"number"!=typeof e.ref_block_num||"number"!=typeof e.ref_block_prefix)},r.tryGetBlockHeaderState=function(){var e=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.rpc.get_block_header_state(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,this.tryGetBlockInfo(t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),r.tryGetBlockInfo=function(){var e=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.rpc.get_block_info(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,this.rpc.get_block(t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),r.tryRefBlockFromGetInfo=function(){var e=l(k.mark((function e(t){var r;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.hasOwnProperty("last_irreversible_block_id")&&t.hasOwnProperty("last_irreversible_block_num")&&t.hasOwnProperty("last_irreversible_block_time"))){e.next=4;break}return e.abrupt("return",{block_num:t.last_irreversible_block_num,id:t.last_irreversible_block_id,timestamp:t.last_irreversible_block_time});case 4:return e.next=6,this.tryGetBlockInfo(t.last_irreversible_block_num);case 6:return e.abrupt("return",{block_num:(r=e.sent).block_num,id:r.id,timestamp:r.timestamp});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.with=function(e){return new ot(this,e)},r.buildTransaction=function(e){var t=new st(this);return e?e(t):t},r.getAccountKeys=function(){var e=l(k.mark((function e(t,r){var n;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.rpc.get_account(t);case 3:if(!(n=e.sent.permissions.find((function(e){return e.perm_name===r})))){e.next=8;break}return e.abrupt("return",n.required_auth.keys.map((function(e){return Je.fromString(e.key).toString()})));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),r.checkIfKeysMatchTransaction=function(){var e=l(k.mark((function e(t){var r,n,a,i,s,o,u,c,l,f;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.actor,n=t.permission,a=t.transaction,i=t.signatures,s=t.chainId){e.next=6;break}return e.next=4,this.rpc.get_info();case 4:s=e.sent.chain_id;case 6:return e.next=8,this.getAccountKeys(r,n);case 8:return o=e.sent,e.next=11,this.serializeActions(a.context_free_actions||[]);case 11:return a.context_free_actions=e.sent,e.next=14,this.serializeActions(a.actions);case 14:return a.actions=e.sent,u=this.serializeTransaction(a),c=this.serializeContextFreeData(a.context_free_data),l=rt(s,u,c),f=o.some((function(e){return Xe.fromString(i[0]).verify(l,Je.fromString(e),!1)})),e.abrupt("return",f);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),st=function(){function e(e){this.actions=[],this.contextFreeGroups=[],this.api=e}var t=e.prototype;return t.with=function(e){var t=new ot(this.api,e);return this.actions.push(t),t},t.associateContextFree=function(e){return this.contextFreeGroups.push(e),this},t.send=function(){var e=l(k.mark((function e(t){var r,n,a;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],n=[],a=this.actions.map((function(e){return e.serializedData})),e.next=5,Promise.all(this.contextFreeGroups.map(function(){var e=l(k.mark((function e(t){var i,s,o,u;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t({cfd:r.length,cfa:n.length}),o=i.contextFreeAction,u=i.contextFreeData,(s=i.action)&&a.push(s),o&&n.push(o),u&&r.push(u);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return this.contextFreeGroups=[],this.actions=[],e.next=9,this.api.transact({context_free_data:r,context_free_actions:n,actions:a},t);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),ot=function(){function e(e,t){this.api=e,this.accountName=t}return e.prototype.as=function(e){return void 0===e&&(e=[]),new ut(this,this.api,this.accountName,e&&"string"==typeof e?[{actor:e,permission:"active"}]:e)},e}(),ut=function(e,t,r,n){var a=this,i=t.cachedAbis.get(r);if(!i)throw new Error("ABI must be cached before using ActionBuilder, run api.getAbi()");for(var s,o=Te(Ee(),i.abi),u=new Map,c=m(i.abi.actions);!(s=c()).done;){var l=s.value;u.set(l.name,Pe(o,l.type))}u.forEach((function(t,i){var s;Object.assign(a,((s={})[i]=function(){for(var a={},s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];c.forEach((function(e,r){a[t.fields[r].name]=e}));var f=Ke({types:o,actions:u},r,i,n,a);return e.serializedData=f,f},s))}))},ct={__proto__:null};function lt(e){return ft.apply(this,arguments)}function ft(){return(ft=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("/v1/chain/get_account",{account_name:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function pt(e){return ht.apply(this,arguments)}function ht(){return(ht=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("/v1/chain/get_block_header_state",{block_num_or_id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function yt(e){return dt.apply(this,arguments)}function dt(){return(dt=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("/v1/chain/get_block_info",{block_num:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function vt(e){return gt.apply(this,arguments)}function gt(){return(gt=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("/v1/chain/get_block",{block_num_or_id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function mt(e,t,r){return bt.apply(this,arguments)}function bt(){return(bt=l(k.mark((function e(t,r,n){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=null),e.next=3,this.post("/v1/chain/get_currency_balance",{code:t,account:r,symbol:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function xt(e,t){return kt.apply(this,arguments)}function kt(){return(kt=l(k.mark((function e(t,r){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("/v1/chain/get_currency_stats",{code:t,symbol:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function wt(){return _t.apply(this,arguments)}function _t(){return(_t=l(k.mark((function e(){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("/v1/chain/get_info",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function At(){return St.apply(this,arguments)}function St(){return(St=l(k.mark((function e(){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("/v1/chain/get_producer_schedule",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function zt(e,t,r){return Et.apply(this,arguments)}function Et(){return(Et=l(k.mark((function e(t,r,n){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!0),void 0===r&&(r=""),void 0===n&&(n=50),e.next=5,this.post("/v1/chain/get_producers",{json:t,lower_bound:r,limit:n});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Nt(e,t,r){return Pt.apply(this,arguments)}function Pt(){return(Pt=l(k.mark((function e(t,r,n){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!0),void 0===r&&(r=""),void 0===n&&(n=50),e.next=5,this.post("/v1/chain/get_scheduled_transactions",{json:t,lower_bound:r,limit:n});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Tt(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=100),e.next=3,this.post("/v1/chain/get_activated_protocol_features",{limit:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Ut(e){return Kt.apply(this,arguments)}function Kt(){return(Kt=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("/v1/chain/get_required_keys",{transaction:t.transaction,available_keys:t.availableKeys});case 2:return e.abrupt("return",j(e.sent.required_keys));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Ot(e,t,r){return Bt.apply(this,arguments)}function Bt(){return(Bt=l(k.mark((function e(t,r,n){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=null),void 0===n&&(n=null),e.next=4,this.post("/v1/history/get_actions",{account_name:t,pos:r,offset:n});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function It(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=l(k.mark((function e(t,r){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=null),e.next=3,this.post("/v1/history/get_transaction",{id:t,block_num_hint:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Rt(e){return Ft.apply(this,arguments)}function Ft(){return(Ft=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("/v1/history/get_key_accounts",{public_key:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Gt(e){return Lt.apply(this,arguments)}function Lt(){return(Lt=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("/v1/history/get_controlled_accounts",{controlling_account:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Dt(){return jt.apply(this,arguments)}function jt(){return(jt=l(k.mark((function e(){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("/v1/db_size/get",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}!function(e){e.FAILED="FAILED",e.UNSUBMITTED="UNSUBMITTED",e.PENDING="PENDING",e.PASSED="PASSED"}(Ae||(Ae={}));var Vt,Wt={__proto__:null,get KycStatus(){return Ae}},Ht=[{key:"AF",value:"AF",flag:"af",text:"Afghanistan"},{key:"AX",value:"AX",flag:"ax",text:"Aland Islands"},{key:"AL",value:"AL",flag:"al",text:"Albania"},{key:"DZ",value:"DZ",flag:"dz",text:"Algeria"},{key:"AS",value:"AS",flag:"as",text:"American Samoa"},{key:"AD",value:"AD",flag:"ad",text:"Andorra"},{key:"AO",value:"AO",flag:"ao",text:"Angola"},{key:"AI",value:"AI",flag:"ai",text:"Anguilla"},{key:"AG",value:"AG",flag:"ag",text:"Antigua"},{key:"AR",value:"AR",flag:"ar",text:"Argentina"},{key:"AM",value:"AM",flag:"am",text:"Armenia"},{key:"AW",value:"AW",flag:"aw",text:"Aruba"},{key:"AU",value:"AU",flag:"au",text:"Australia"},{key:"AT",value:"AT",flag:"at",text:"Austria"},{key:"AZ",value:"AZ",flag:"az",text:"Azerbaijan"},{key:"BS",value:"BS",flag:"bs",text:"Bahamas"},{key:"BH",value:"BH",flag:"bh",text:"Bahrain"},{key:"BD",value:"BD",flag:"bd",text:"Bangladesh"},{key:"BB",value:"BB",flag:"bb",text:"Barbados"},{key:"BY",value:"BY",flag:"by",text:"Belarus"},{key:"BE",value:"BE",flag:"be",text:"Belgium"},{key:"BZ",value:"BZ",flag:"bz",text:"Belize"},{key:"BJ",value:"BJ",flag:"bj",text:"Benin"},{key:"BM",value:"BM",flag:"bm",text:"Bermuda"},{key:"BT",value:"BT",flag:"bt",text:"Bhutan"},{key:"BO",value:"BO",flag:"bo",text:"Bolivia"},{key:"BA",value:"BA",flag:"ba",text:"Bosnia"},{key:"BW",value:"BW",flag:"bw",text:"Botswana"},{key:"BV",value:"BV",flag:"bv",text:"Bouvet Island"},{key:"BR",value:"BR",flag:"br",text:"Brazil"},{key:"VG",value:"VG",flag:"vg",text:"British Virgin Islands"},{key:"BN",value:"BN",flag:"bn",text:"Brunei"},{key:"BG",value:"BG",flag:"bg",text:"Bulgaria"},{key:"BF",value:"BF",flag:"bf",text:"Burkina Faso"},{key:"BI",value:"BI",flag:"bi",text:"Burundi"},{key:"TC",value:"TC",flag:"tc",text:"Caicos Islands"},{key:"KH",value:"KH",flag:"kh",text:"Cambodia"},{key:"CM",value:"CM",flag:"cm",text:"Cameroon"},{key:"CA",value:"CA",flag:"ca",text:"Canada"},{key:"CV",value:"CV",flag:"cv",text:"Cape Verde"},{key:"KY",value:"KY",flag:"ky",text:"Cayman Islands"},{key:"CF",value:"CF",flag:"cf",text:"Central African Republic"},{key:"TD",value:"TD",flag:"td",text:"Chad"},{key:"CL",value:"CL",flag:"cl",text:"Chile"},{key:"CN",value:"CN",flag:"cn",text:"China"},{key:"CX",value:"CX",flag:"cx",text:"Christmas Island"},{key:"CC",value:"CC",flag:"cc",text:"Cocos Islands"},{key:"CO",value:"CO",flag:"co",text:"Colombia"},{key:"KM",value:"KM",flag:"km",text:"Comoros"},{key:"CG",value:"CG",flag:"cg",text:"Congo Brazzaville"},{key:"CD",value:"CD",flag:"cd",text:"Congo"},{key:"CK",value:"CK",flag:"ck",text:"Cook Islands"},{key:"CR",value:"CR",flag:"cr",text:"Costa Rica"},{key:"CI",value:"CI",flag:"ci",text:"Cote Divoire"},{key:"HR",value:"HR",flag:"hr",text:"Croatia"},{key:"CU",value:"CU",flag:"cu",text:"Cuba"},{key:"CY",value:"CY",flag:"cy",text:"Cyprus"},{key:"CZ",value:"CZ",flag:"cz",text:"Czech Republic"},{key:"DK",value:"DK",flag:"dk",text:"Denmark"},{key:"DJ",value:"DJ",flag:"dj",text:"Djibouti"},{key:"DM",value:"DM",flag:"dm",text:"Dominica"},{key:"DO",value:"DO",flag:"do",text:"Dominican Republic"},{key:"EC",value:"EC",flag:"ec",text:"Ecuador"},{key:"EG",value:"EG",flag:"eg",text:"Egypt"},{key:"SV",value:"SV",flag:"sv",text:"El Salvador"},{key:"GB",value:"GB",flag:"gb",text:"England"},{key:"GQ",value:"GQ",flag:"gq",text:"Equatorial Guinea"},{key:"ER",value:"ER",flag:"er",text:"Eritrea"},{key:"EE",value:"EE",flag:"ee",text:"Estonia"},{key:"ET",value:"ET",flag:"et",text:"Ethiopia"},{key:"EU",value:"EU",flag:"eu",text:"European Union"},{key:"FK",value:"FK",flag:"fk",text:"Falkland Islands"},{key:"FO",value:"FO",flag:"fo",text:"Faroe Islands"},{key:"FJ",value:"FJ",flag:"fj",text:"Fiji"},{key:"FI",value:"FI",flag:"fi",text:"Finland"},{key:"FR",value:"FR",flag:"fr",text:"France"},{key:"GF",value:"GF",flag:"gf",text:"French Guiana"},{key:"PF",value:"PF",flag:"pf",text:"French Polynesia"},{key:"TF",value:"TF",flag:"tf",text:"French Territories"},{key:"GA",value:"GA",flag:"ga",text:"Gabon"},{key:"GM",value:"GM",flag:"gm",text:"Gambia"},{key:"GE",value:"GE",flag:"ge",text:"Georgia"},{key:"DE",value:"DE",flag:"de",text:"Germany"},{key:"GH",value:"GH",flag:"gh",text:"Ghana"},{key:"GI",value:"GI",flag:"gi",text:"Gibraltar"},{key:"GR",value:"GR",flag:"gr",text:"Greece"},{key:"GL",value:"GL",flag:"gl",text:"Greenland"},{key:"GD",value:"GD",flag:"gd",text:"Grenada"},{key:"GP",value:"GP",flag:"gp",text:"Guadeloupe"},{key:"GU",value:"GU",flag:"gu",text:"Guam"},{key:"GT",value:"GT",flag:"gt",text:"Guatemala"},{key:"GW",value:"GW",flag:"gw",text:"Guinea-Bissau"},{key:"GN",value:"GN",flag:"gn",text:"Guinea"},{key:"GY",value:"GY",flag:"gy",text:"Guyana"},{key:"HT",value:"HT",flag:"ht",text:"Haiti"},{key:"HM",value:"HM",flag:"hm",text:"Heard Island"},{key:"HN",value:"HN",flag:"hn",text:"Honduras"},{key:"HK",value:"HK",flag:"hk",text:"Hong Kong"},{key:"HU",value:"HU",flag:"hu",text:"Hungary"},{key:"IS",value:"IS",flag:"is",text:"Iceland"},{key:"IN",value:"IN",flag:"in",text:"India"},{key:"IO",value:"IO",flag:"io",text:"Indian Ocean Territory"},{key:"ID",value:"ID",flag:"id",text:"Indonesia"},{key:"IR",value:"IR",flag:"ir",text:"Iran"},{key:"IQ",value:"IQ",flag:"iq",text:"Iraq"},{key:"IE",value:"IE",flag:"ie",text:"Ireland"},{key:"IL",value:"IL",flag:"il",text:"Israel"},{key:"IT",value:"IT",flag:"it",text:"Italy"},{key:"JM",value:"JM",flag:"jm",text:"Jamaica"},{key:"JP",value:"JP",flag:"jp",text:"Japan"},{key:"JO",value:"JO",flag:"jo",text:"Jordan"},{key:"KZ",value:"KZ",flag:"kz",text:"Kazakhstan"},{key:"KE",value:"KE",flag:"ke",text:"Kenya"},{key:"KI",value:"KI",flag:"ki",text:"Kiribati"},{key:"KW",value:"KW",flag:"kw",text:"Kuwait"},{key:"KG",value:"KG",flag:"kg",text:"Kyrgyzstan"},{key:"LA",value:"LA",flag:"la",text:"Laos"},{key:"LV",value:"LV",flag:"lv",text:"Latvia"},{key:"LB",value:"LB",flag:"lb",text:"Lebanon"},{key:"LS",value:"LS",flag:"ls",text:"Lesotho"},{key:"LR",value:"LR",flag:"lr",text:"Liberia"},{key:"LY",value:"LY",flag:"ly",text:"Libya"},{key:"LI",value:"LI",flag:"li",text:"Liechtenstein"},{key:"LT",value:"LT",flag:"lt",text:"Lithuania"},{key:"LU",value:"LU",flag:"lu",text:"Luxembourg"},{key:"MO",value:"MO",flag:"mo",text:"Macau"},{key:"MK",value:"MK",flag:"mk",text:"Macedonia"},{key:"MG",value:"MG",flag:"mg",text:"Madagascar"},{key:"MW",value:"MW",flag:"mw",text:"Malawi"},{key:"MY",value:"MY",flag:"my",text:"Malaysia"},{key:"MV",value:"MV",flag:"mv",text:"Maldives"},{key:"ML",value:"ML",flag:"ml",text:"Mali"},{key:"MT",value:"MT",flag:"mt",text:"Malta"},{key:"MH",value:"MH",flag:"mh",text:"Marshall Islands"},{key:"MQ",value:"MQ",flag:"mq",text:"Martinique"},{key:"MR",value:"MR",flag:"mr",text:"Mauritania"},{key:"MU",value:"MU",flag:"mu",text:"Mauritius"},{key:"YT",value:"YT",flag:"yt",text:"Mayotte"},{key:"MX",value:"MX",flag:"mx",text:"Mexico"},{key:"FM",value:"FM",flag:"fm",text:"Micronesia"},{key:"MD",value:"MD",flag:"md",text:"Moldova"},{key:"MC",value:"MC",flag:"mc",text:"Monaco"},{key:"MN",value:"MN",flag:"mn",text:"Mongolia"},{key:"ME",value:"ME",flag:"me",text:"Montenegro"},{key:"MS",value:"MS",flag:"ms",text:"Montserrat"},{key:"MA",value:"MA",flag:"ma",text:"Morocco"},{key:"MZ",value:"MZ",flag:"mz",text:"Mozambique"},{key:"NA",value:"NA",flag:"na",text:"Namibia"},{key:"NR",value:"NR",flag:"nr",text:"Nauru"},{key:"NP",value:"NP",flag:"np",text:"Nepal"},{key:"AN",value:"AN",flag:"an",text:"Netherlands Antilles"},{key:"NL",value:"NL",flag:"nl",text:"Netherlands"},{key:"NC",value:"NC",flag:"nc",text:"New Caledonia"},{key:"PG",value:"PG",flag:"pg",text:"New Guinea"},{key:"NZ",value:"NZ",flag:"nz",text:"New Zealand"},{key:"NI",value:"NI",flag:"ni",text:"Nicaragua"},{key:"NE",value:"NE",flag:"ne",text:"Niger"},{key:"NG",value:"NG",flag:"ng",text:"Nigeria"},{key:"NU",value:"NU",flag:"nu",text:"Niue"},{key:"NF",value:"NF",flag:"nf",text:"Norfolk Island"},{key:"KP",value:"KP",flag:"kp",text:"North Korea"},{key:"MP",value:"MP",flag:"mp",text:"Northern Mariana Islands"},{key:"NO",value:"NO",flag:"no",text:"Norway"},{key:"OM",value:"OM",flag:"om",text:"Oman"},{key:"PK",value:"PK",flag:"pk",text:"Pakistan"},{key:"PW",value:"PW",flag:"pw",text:"Palau"},{key:"PS",value:"PS",flag:"ps",text:"Palestine"},{key:"PA",value:"PA",flag:"pa",text:"Panama"},{key:"PY",value:"PY",flag:"py",text:"Paraguay"},{key:"PE",value:"PE",flag:"pe",text:"Peru"},{key:"PH",value:"PH",flag:"ph",text:"Philippines"},{key:"PN",value:"PN",flag:"pn",text:"Pitcairn Islands"},{key:"PL",value:"PL",flag:"pl",text:"Poland"},{key:"PT",value:"PT",flag:"pt",text:"Portugal"},{key:"PR",value:"PR",flag:"pr",text:"Puerto Rico"},{key:"QA",value:"QA",flag:"qa",text:"Qatar"},{key:"RE",value:"RE",flag:"re",text:"Reunion"},{key:"RO",value:"RO",flag:"ro",text:"Romania"},{key:"RU",value:"RU",flag:"ru",text:"Russia"},{key:"RW",value:"RW",flag:"rw",text:"Rwanda"},{key:"SH",value:"SH",flag:"sh",text:"Saint Helena"},{key:"KN",value:"KN",flag:"kn",text:"Saint Kitts and Nevis"},{key:"LC",value:"LC",flag:"lc",text:"Saint Lucia"},{key:"PM",value:"PM",flag:"pm",text:"Saint Pierre"},{key:"VC",value:"VC",flag:"vc",text:"Saint Vincent"},{key:"WS",value:"WS",flag:"ws",text:"Samoa"},{key:"SM",value:"SM",flag:"sm",text:"San Marino"},{key:"GS",value:"GS",flag:"gs",text:"Sandwich Islands"},{key:"ST",value:"ST",flag:"st",text:"Sao Tome"},{key:"SA",value:"SA",flag:"sa",text:"Saudi Arabia"},{key:"SN",value:"SN",flag:"sn",text:"Senegal"},{key:"CS",value:"CS",flag:"cs",text:"Serbia"},{key:"RS",value:"RS",flag:"rs",text:"Serbia"},{key:"SC",value:"SC",flag:"sc",text:"Seychelles"},{key:"SL",value:"SL",flag:"sl",text:"Sierra Leone"},{key:"SG",value:"SG",flag:"sg",text:"Singapore"},{key:"SK",value:"SK",flag:"sk",text:"Slovakia"},{key:"SI",value:"SI",flag:"si",text:"Slovenia"},{key:"SB",value:"SB",flag:"sb",text:"Solomon Islands"},{key:"SO",value:"SO",flag:"so",text:"Somalia"},{key:"ZA",value:"ZA",flag:"za",text:"South Africa"},{key:"KR",value:"KR",flag:"kr",text:"South Korea"},{key:"ES",value:"ES",flag:"es",text:"Spain"},{key:"LK",value:"LK",flag:"lk",text:"Sri Lanka"},{key:"SD",value:"SD",flag:"sd",text:"Sudan"},{key:"SR",value:"SR",flag:"sr",text:"Suriname"},{key:"SJ",value:"SJ",flag:"sj",text:"Svalbard"},{key:"SZ",value:"SZ",flag:"sz",text:"Swaziland"},{key:"SE",value:"SE",flag:"se",text:"Sweden"},{key:"CH",value:"CH",flag:"ch",text:"Switzerland"},{key:"SY",value:"SY",flag:"sy",text:"Syria"},{key:"TW",value:"TW",flag:"tw",text:"Taiwan"},{key:"TJ",value:"TJ",flag:"tj",text:"Tajikistan"},{key:"TZ",value:"TZ",flag:"tz",text:"Tanzania"},{key:"TH",value:"TH",flag:"th",text:"Thailand"},{key:"TL",value:"TL",flag:"tl",text:"Timorleste"},{key:"TG",value:"TG",flag:"tg",text:"Togo"},{key:"TK",value:"TK",flag:"tk",text:"Tokelau"},{key:"TO",value:"TO",flag:"to",text:"Tonga"},{key:"TT",value:"TT",flag:"tt",text:"Trinidad"},{key:"TN",value:"TN",flag:"tn",text:"Tunisia"},{key:"TR",value:"TR",flag:"tr",text:"Turkey"},{key:"TM",value:"TM",flag:"tm",text:"Turkmenistan"},{key:"TV",value:"TV",flag:"tv",text:"Tuvalu"},{key:"UG",value:"UG",flag:"ug",text:"Uganda"},{key:"UA",value:"UA",flag:"ua",text:"Ukraine"},{key:"AE",value:"AE",flag:"ae",text:"United Arab Emirates"},{key:"US",value:"US",flag:"us",text:"United States"},{key:"UY",value:"UY",flag:"uy",text:"Uruguay"},{key:"UM",value:"UM",flag:"um",text:"Us Minor Islands"},{key:"VI",value:"VI",flag:"vi",text:"Us Virgin Islands"},{key:"UZ",value:"UZ",flag:"uz",text:"Uzbekistan"},{key:"VU",value:"VU",flag:"vu",text:"Vanuatu"},{key:"VA",value:"VA",flag:"va",text:"Vatican City"},{key:"VE",value:"VE",flag:"ve",text:"Venezuela"},{key:"VN",value:"VN",flag:"vn",text:"Vietnam"},{key:"WF",value:"WF",flag:"wf",text:"Wallis and Futuna"},{key:"EH",value:"EH",flag:"eh",text:"Western Sahara"},{key:"YE",value:"YE",flag:"ye",text:"Yemen"},{key:"ZM",value:"ZM",flag:"zm",text:"Zambia"},{key:"ZW",value:"ZW",flag:"zw",text:"Zimbabwe"}];function qt(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=l(k.mark((function e(t){var r,n,a;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.constants.BLOKS_API+"/"+(r=t.chain)+"/kyc?type=countries&chain="+r,e.next=4,this.get(n);case 4:return a=e.sent.content.reduce((function(e,t){return e[t.id]=t,e}),{}),e.abrupt("return",Ht.filter((function(e){return a[e.key]})));case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Zt(){return Jt.apply(this,arguments)}function Jt(){return(Jt=l(k.mark((function e(){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.get_table_rows({code:"eosio.proton",table:"kycproviders",scope:"eosio.proton"});case 3:this.validKycProviders=e.sent.rows.map((function(e){return!e.blisted&&e.kyc_provider})),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Unable to get KYC Providers.");case 11:case"end":return e.stop()}}),e,this,[[0,8]])})))).apply(this,arguments)}function Qt(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=l(k.mark((function e(t){var r,n,a,i=this;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=["firstname","lastname","birthdate","address"],0!==t.length){e.next=3;break}throw new Error("Please enter an account.");case 3:if(0!==this.validKycProviders.length){e.next=6;break}return e.next=6,this.getValidKycProviders();case 6:if(n=[],!Array.isArray(t)){e.next=11;break}n=t,e.next=23;break;case 11:if("string"!=typeof t){e.next=23;break}return e.prev=12,e.next=15,this.get_table_rows({code:"eosio.proton",table:"usersinfo",scope:"eosio.proton",lower_bound:t,upper_bound:t});case 15:n=e.sent.rows,e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(12),new Error("Account not found!");case 23:return a=n.map((function(e){var t=e.kyc.reduce((function(e,t){return i.validKycProviders.indexOf(t.kyc_provider)>=0&&(e=t.kyc_level.split(",").map((function(e){return e.split(":")[1]})).concat(e)),e}),[]);return e.isLightKYCVerified=r.every((function(e){return t.includes(e)})),e})),e.abrupt("return",a);case 25:case"end":return e.stop()}}),e,this,[[12,20]])})))).apply(this,arguments)}function $t(e){return er.apply(this,arguments)}function er(){return(er=l(k.mark((function e(t){var r,n,a,i=this;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.actor,a=t.expectedTier,(r=t.chain)&&n&&a){e.next=3;break}throw new Error("Invalid parameters");case 3:return e.abrupt("return",new Promise(function(){var e=l(k.mark((function e(t,o){var u;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(u=function(){var e=l(k.mark((function e(){var c,l,f,p,h;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.isLightKYCVerified(n);case 2:if(!(c=e.sent[0])||!c.isLightKYCVerified){e.next=6;break}return e.abrupt("return",t(Ae.PASSED));case 6:return l=s.constants.BLOKS_API+"/"+r+"/kyc?type=status&chain="+r+"&actor="+n,e.next=9,i.get(l);case 9:if((f=e.sent)&&f.length){e.next=12;break}return e.abrupt("return",o(new Error("Could not fetch KYC record")));case 12:if(p=f.find((function(e){return e.tier===String(a)}))){e.next=15;break}return e.abrupt("return",o(new Error("No kyc data matching tier found")));case 15:if(h=p.status,p.status){e.next=18;break}return e.abrupt("return",o(new Error("KYC Status not found")));case 18:if(h!==Ae.PENDING){e.next=22;break}setTimeout((function(){return u()}),2e3),e.next=23;break;case 22:return e.abrupt("return",t(h));case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}())();case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tr(e){return rr.apply(this,arguments)}function rr(){return(rr=l(k.mark((function e(t){var r,n;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.constants.BLOKS_API+"/"+t.chain+"/kyc",e.next=3,this.post(r,Object.assign({type:"apply"},t));case 3:if(!(n=e.sent)){e.next=8;break}return e.abrupt("return",n);case 8:throw new Error("Could not apply for KYC");case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function nr(){return ar.apply(this,arguments)}function ar(){return(ar=l(k.mark((function e(){var t;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.constants.PROTON_API+"/v1/kyc/ip-info",e.next=3,this.get(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}!function(e){e.PENDING="pending",e.SUCCESS="success",e.FAIL="fail",e.PROCESSING="processing"}(Vt||(Vt={}));var ir=o.object({counterCurrency:o.string(),price:o.number(),priceChangePercent:o.number(),marketCap:o.number(),volume:o.number(),timestamp:o.number()}),sr=o.array(o.object({contract:o.string(),symbol:o.string(),rank:o.number(),rates:o.array(ir)})),or=o.object({quoteId:o.string(),estimatedFee:o.string(),currency:o.string(),network:o.string()});function ur(){return cr.apply(this,arguments)}function cr(){return(cr=l(k.mark((function e(){var t;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.constants.METAL_PROTON_ENDPOINT+"/v1/chain/exchange-rates/info",e.prev=1,e.next=4,this.get(t);case 4:return e.abrupt("return",sr.parse(e.sent.data));case 9:throw e.prev=9,e.t0=e.catch(1),new Error("Could not fetch exchange rates");case 12:case"end":return e.stop()}}),e,this,[[1,9]])})))).apply(this,arguments)}function lr(e){return fr.apply(this,arguments)}function fr(){return(fr=l(k.mark((function e(t){var r,n,a;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.currency,n=t.network,a=s.constants.METAL_PROTON_ENDPOINT+"/v1/swaps/calculate-estimated-fee",e.prev=2,e.next=5,this.post(a,{currency:r,network:n});case 5:return e.abrupt("return",or.parse(e.sent.data));case 10:return e.prev=10,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",void 0);case 14:case"end":return e.stop()}}),e,this,[[2,10]])})))).apply(this,arguments)}function pr(e){return hr.apply(this,arguments)}function hr(){return(hr=l(k.mark((function e(t){var r;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.constants.SWAP_URL+"/v1/quote/"+t.baseSymbol+"/"+t.baseAmount+"/"+t.quoteSymbol,e.next=3,this.get(r);case 3:return e.abrupt("return",e.sent.data);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function yr(e){return dr.apply(this,arguments)}function dr(){return(dr=l(k.mark((function e(t){var r;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.constants.SWAP_URL+"/v1/order/"+t,e.next=3,this.get(r);case 3:return e.abrupt("return",e.sent.data);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function vr(e){return gr.apply(this,arguments)}function gr(){return(gr=l(k.mark((function e(t){var r;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.constants.WRAP_SERVER_URL+"/address/generate",e.next=3,this.post(r,t);case 3:return e.abrupt("return",e.sent.data);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function mr(e){return br.apply(this,arguments)}function br(){return(br=l(k.mark((function e(t){var r;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.constants.WRAP_SERVER_URL+"/withdraw",e.next=3,this.post(r,t);case 3:return e.abrupt("return",e.sent.data);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function xr(e){return kr.apply(this,arguments)}function kr(){return(kr=l(k.mark((function e(t){var r;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.constants.WRAP_SERVER_URL+"/withdrawals/"+t,e.next=3,this.get(r);case 3:return e.abrupt("return",e.sent.data);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function wr(e){return _r.apply(this,arguments)}function _r(){return(_r=l(k.mark((function e(t){var r,n,a,i,s,o,u,c,l,f,p,h,y,d,v,g,m,b,x,w,_;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=t.json)||r,a=t.code,i=t.scope,s=t.table,u=void 0===(o=t.table_key)?"":o,l=void 0===(c=t.lower_bound)?"":c,p=void 0===(f=t.upper_bound)?"":f,y=void 0===(h=t.index_position)?1:h,v=void 0===(d=t.key_type)?"":d,m=void 0===(g=t.limit)?10:g,x=void 0!==(b=t.reverse)&&b,_=void 0!==(w=t.show_payer)&&w,e.next=3,this.post("/v1/chain/get_table_rows",{json:n,code:a,scope:i,table:s,table_key:u,lower_bound:l,upper_bound:p,index_position:y,key_type:v,limit:m,reverse:x,show_payer:_});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Ar(e){return Sr.apply(this,arguments)}function Sr(){return(Sr=l(k.mark((function e(t){var r,n,a,i,s,o,u,c,l,f,p,h,y,d,v,g,m,b,x;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0===(r=t.json)||r,a=t.code,i=t.table,s=t.index_name,u=void 0===(o=t.encode_type)?"bytes":o,l=void 0===(c=t.index_value)?"":c,p=void 0===(f=t.lower_bound)?"":f,y=void 0===(h=t.upper_bound)?"":h,v=void 0===(d=t.limit)?10:d,m=void 0!==(g=t.reverse)&&g,x=void 0!==(b=t.show_payer)&&b,e.next=3,this.post("/v1/chain/get_kv_table_rows",{json:n,code:a,table:i,index_name:s,encode_type:u,index_value:l,lower_bound:p,upper_bound:y,limit:v,reverse:m,show_payer:x});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function zr(e){return Er.apply(this,arguments)}function Er(){return(Er=l(k.mark((function e(t){var r,n,a,i,s,o,u,c;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.code,n=t.table,i=void 0===(a=t.lower_bound)?"":a,o=void 0===(s=t.upper_bound)?"":s,c=void 0===(u=t.limit)?10:u,e.next=3,this.post("/v1/chain/get_table_by_scope",{code:r,table:n,lower_bound:i,upper_bound:o,limit:c});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var Nr=function(e){for(var t,r="",n=m(e);!(t=n()).done;)r+=("00"+t.value.toString(16)).slice(-2);return r};function Pr(e){return Tr.apply(this,arguments)}function Tr(){return(Tr=l(k.mark((function e(t){var r,n,a,i,s;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.signatures,a=void 0===(n=t.compression)?0:n,i=t.serializedTransaction,s=t.serializedContextFreeData,e.prev=1,e.next=4,this.post("/v1/chain/push_transaction",{signatures:r,compression:a,packed_context_free_data:Nr(s||new Uint8Array(0)),packed_trx:Nr(i)});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0&&e.t0.json&&e.t0.json.error&&"expired_tx_exception"===e.t0.json.error.name&&(e.t0.json.error.message="Transaction Expired: Try Again",this.nextEndpoint()),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,7]])})))).apply(this,arguments)}function Cr(e){return Ur.apply(this,arguments)}function Ur(){return(Ur=l(k.mark((function e(t){var r,n,a,i,s;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.signatures,a=void 0===(n=t.compression)?0:n,i=t.serializedTransaction,s=t.serializedContextFreeData,e.next=3,this.post("/v1/chain/send_transaction",{signatures:r,compression:a,packed_context_free_data:Nr(s||new Uint8Array(0)),packed_trx:Nr(i)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Kr(e){return Or.apply(this,arguments)}function Or(){return(Or=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("/v1/chain/get_abi",{account_name:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Br(e){return Ir.apply(this,arguments)}function Ir(){return(Ir=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("/v1/chain/get_raw_code_and_abi",{account_name:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Mr(e){return Rr.apply(this,arguments)}function Rr(){return(Rr=l(k.mark((function e(t){var r,n;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get_raw_abi(t);case 2:return n=B((r=e.sent).abi),e.abrupt("return",{accountName:r.account_name,abi:n});case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Fr(e){return Gr.apply(this,arguments)}function Gr(){return(Gr=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("/v1/chain/get_raw_abi",{account_name:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Lr(e){return Dr.apply(this,arguments)}function Dr(){return(Dr=l(k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("/v1/chain/get_code",{account_name:t,code_as_wasm:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var jr=function(e){var t,r;function n(t){var r;return r=t&&t.error&&t.error.details&&t.error.details.length&&t.error.details[0].message?e.call(this,t.error.details[0].message)||this:t&&t.processed&&t.processed.except&&t.processed.except.message?e.call(this,t.processed.except.message)||this:t?e.call(this,t.message)||this:e.call(this,t)||this,Object.setPrototypeOf(v(r),n.prototype),r.json=t,v(r)}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n}(d(Error)),Vr=function(){function e(e){this.maxRetries=3,this.validKycProviders=[],this.get_account=lt,this.get_block_header_state=pt,this.get_block_info=yt,this.get_block=vt,this.get_currency_balance=mt,this.get_currency_stats=xt,this.get_info=wt,this.get_producer_schedule=At,this.get_producers=zt,this.get_scheduled_transactions=Nt,this.get_activated_protocol_features=Tt,this.getRequiredKeys=Ut,this.get_abi=Kr,this.get_raw_code_and_abi=Br,this.getRawAbi=Mr,this.get_raw_abi=Fr,this.get_code=Lr,this.push_transaction=Pr,this.send_transaction=Cr,this.get_table_rows=wr,this.get_kv_table_rows=Ar,this.get_table_by_scope=zr,this.history_get_actions=Ot,this.history_get_transaction=It,this.history_get_key_accounts=Rt,this.history_get_controlled_accounts=Gt,this.db_size_get=Dt,this.fetchKycCountries=qt,this.getValidKycProviders=Zt,this.isLightKYCVerified=Qt,this.checkUserKycStatus=$t,this.applyForKyc=tr,this.currentLocation=nr,this.otcQuote=pr,this.otcOrder=yr,this.generateAddress=vr,this.withdrawMetal=mr,this.withdrawalHistoryMetal=xr,this.getTokenPrices=ur,this.getWithdrawalFee=lr,e=Array.isArray(e)?e:[e],this.endpoints=e.map((function(e){return e.replace(/\/$/,"")})),this.currentEndpoint="",this.nextEndpoint()}var t=e.prototype;return t.nextEndpoint=function(){if(this.endpoints.length){if(this.currentEndpoint){var e=this.endpoints.shift();this.endpoints=this.endpoints.concat(e||[])}this.currentEndpoint=this.endpoints[0]}},t.post=function(){var e=l(k.mark((function e(t,r,n){var a,i,o;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=0),e.prev=1,e.next=4,u(this.currentEndpoint+t,{body:JSON.stringify(r),method:"POST"});case 4:return a=e.sent,e.next=7,a.json();case 7:if(!(i=e.sent).processed||!i.processed.except){e.next=10;break}throw new jr(i);case 10:e.next=22;break;case 12:if(e.prev=12,e.t0=e.catch(1),!(this.endpoints.length>1)){e.next=22;break}if(this.nextEndpoint(),!(n<this.maxRetries)){e.next=20;break}return e.abrupt("return",this.post(t,r,++n));case 20:throw e.t0.isFetchError=!0,new jr(e.t0);case 22:if(a&&a.ok){e.next=24;break}throw new jr(i);case 24:if(!i||!i.head_block_time){e.next=32;break}if(o=new Date(i.head_block_time+"Z").getTime(),!(((new Date).getTime()-o)/1e3>s.constants.MAX_SECONDS_BEHIND&&this.endpoints.length>1)){e.next=32;break}if(this.nextEndpoint(),!(n<this.maxRetries)){e.next=32;break}return e.abrupt("return",this.post(t,r,++n));case 32:return e.abrupt("return",i);case 33:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t,r,n){return e.apply(this,arguments)}}(),t.get=function(){var e=l(k.mark((function e(t){var r;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:if(!((r=e.sent).status>=400)){e.next=5;break}throw new Error("Bad response from server "+r.status);case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}(),Wr={Api:it,ApiInterfaces:ct,JsonRpc:Vr,Numeric:Z,RpcInterfaces:Wt,RpcError:jr,Serialize:qe,JsSignatureProvider:nt,Key:et,sha256:Ze};exports.Api=it,exports.ApiInterfaces=ct,exports.JsSignatureProvider=nt,exports.JsonRpc=Vr,exports.Key=et,exports.Numeric=Z,exports.RpcError=jr,exports.RpcInterfaces=Wt,exports.Serialize=qe,exports.default=Wr,exports.sha256=Ze;
//# sourceMappingURL=js.cjs.production.min.js.map
